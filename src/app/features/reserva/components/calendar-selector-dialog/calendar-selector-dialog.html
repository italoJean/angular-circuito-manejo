 <h2 mat-dialog-title class="calendar-dialog__title">
  <mat-icon>calendar_month</mat-icon>
  Seleccionar Fecha y Hora de Reserva
</h2>

<mat-dialog-content class="calendar-dialog__content">

  @if (isLoadingData) {
    <div class="calendar-dialog__loading">
      <mat-spinner diameter="80"></mat-spinner>
      <p class="calendar-dialog__loading-text">Cargando horarios de vehÃ­culo y cliente...</p>
    </div>
  } @else {

    <div class="calendar-dialog__info">
      <p><strong>ğŸ“‹ Horario de Negocio:</strong> 6:00 AM - 8:00 PM</p>
      <p><strong>ğŸŸ¡ Amarillo:</strong> Horarios del vehÃ­culo en estado "En Progreso"</p>
      <p><strong>ğŸ”µ Azul:</strong> Horarios del vehÃ­culo en estado "Reservado"</p>
      <p><strong>âš ï¸ Aviso:</strong> El cliente no debe tener cruce con otras reservas.</p>
    </div>

    <div
      class="calendar-dialog__validation"
      [class.calendar-dialog__validation--success]="isValidSelection"
      [class.calendar-dialog__validation--error]="!isValidSelection"
    >
      <mat-icon>{{ isValidSelection ? 'check_circle' : 'warning' }}</mat-icon>
      <p>{{ validationMessage }}</p>
    </div>

    <app-full-calendar
      [reservas]="reservasVehiculo"
      [selectable]="true"
      [isValidSelection]="isValidSelection"
      (dateSelected)="onDateSelected($event)"
      (eventClicked)="handleEventClick($event)"
    >
      <!-- [validationMessage]="validationMessage" -->
    </app-full-calendar>
  }
</mat-dialog-content>

<mat-dialog-actions class="calendar-dialog__actions" align="end">
  <button mat-button (click)="close()">Cerrar</button>

  <button
    mat-raised-button
    color="primary"
    (click)="confirm()"
    [disabled]="!isValidSelection || isLoadingData"
    class="calendar-dialog__confirm"
  >
    <mat-icon>check</mat-icon>
    Confirmar SelecciÃ³n
  </button>
</mat-dialog-actions> 
